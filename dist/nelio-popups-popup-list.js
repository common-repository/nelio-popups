(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.wp.element,t=window.wp.domReady;var r=e.n(t);const a=window.wp.apiFetch;var o=e.n(a);const i=window.wp.components,c=window.wp.i18n;var u=function(){return u=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},u.apply(this,arguments)},l=function(e){var t=e.popupId,r=e.initialValue,a=p(t,r),o=a.enabled,l=a.enable,s=a.isSynching;return n.createElement(i.ToggleControl,u({},{disabled:s},{label:n.createElement("span",{className:"screen-reader-text"},(0,c._x)("Activate popup","command","nelio-popups")),checked:o,onChange:function(e){l(e)}}))},p=function(e,t){var r=(0,n.useState)(t),a=r[0],i=r[1],c=(0,n.useState)(!1),u=c[0],l=c[1];return{enabled:a,enable:function(n){return t=void 0,r=void 0,u=function(){return function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=n.call(e,i)}catch(e){c=[6,e],r=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(t){switch(t.label){case 0:l(!0),i(n),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,o()({path:"/wp/v2/nelio_popup/".concat(e),method:"POST",data:{nelio_popups_is_enabled:n}})];case 2:return t.sent(),[3,4];case 3:return t.sent(),i(a),[3,4];case 4:return l(!1),[2]}}))},new((c=void 0)||(c=Promise))((function(e,n){function a(e){try{i(u.next(e))}catch(e){n(e)}}function o(e){try{i(u.throw(e))}catch(e){n(e)}}function i(n){var t;n.done?e(n.value):(t=n.value,t instanceof c?t:new c((function(e){e(t)}))).then(a,o)}i((u=u.apply(t,r||[])).next())}));var t,r,c,u},isSynching:u}};r()((function(){document.querySelectorAll(".nelio-popups-active-wrapper").forEach((function(e){var t=Number.parseInt(e.getAttribute("data-id")||"");if(!isNaN(t)){var r="true"===e.getAttribute("data-enabled");(0,n.render)(n.createElement(l,{popupId:t,initialValue:r}),e)}}))}))})();